2025-11-11 18:33:22 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:33:22 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:33:22 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:33:22 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:33:22 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:33:22 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:33:22 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:33:22 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:33:22 [DEBUG] root:229 - Rendering template
2025-11-11 18:33:22 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:33:22 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:33:23 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:33:29 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:33:29 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:33:29 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:33:29 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:33:29 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:33:29 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:33:43 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:33:43 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:33:43 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:33:43 [INFO] simple_agent.commands.agent:98 - [COMMAND] /agent load - name=matcher_az
2025-11-11 18:33:43 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: matcher_az
2025-11-11 18:33:43 [DEBUG] root:229 - Rendering template
2025-11-11 18:33:43 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:33:43 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:33:43 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:33:45 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: matcher_az (azure_openai)
2025-11-11 18:33:45 [INFO] simple_agent.core.agent_manager:119 - Agent 'matcher_az' created and registered (provider=azure_openai)
2025-11-11 18:33:45 [INFO] simple_agent.core.agent_manager:382 - Loaded agent 'matcher_az' from YAML: config\agents\matcher_az.yaml (1 tools: ['tavily_web_search'])
2025-11-11 18:33:45 [INFO] simple_agent.commands.agent:122 - [COMMAND] Agent 'matcher_az' loaded successfully (1 tools)
2025-11-11 18:33:45 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:33:51 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:33:51 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:33:51 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:33:51 [INFO] simple_agent.commands.agent:214 - [COMMAND] /agent run - name=matcher_az, prompt_len=13764
2025-11-11 18:33:51 [INFO] simple_agent.agents.simple_agent:508 - Agent run
2025-11-11 18:33:54 [INFO] simple_agent.commands.agent:224 - [COMMAND] Agent 'matcher_az' ran successfully (response_len=300)
2025-11-11 18:33:54 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:41:29 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:41:29 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:41:29 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:41:29 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:41:36 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:41:36 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:41:36 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:41:36 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:41:36 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:41:36 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:41:36 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:41:36 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:41:36 [DEBUG] root:229 - Rendering template
2025-11-11 18:41:36 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:41:36 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:41:36 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:41:44 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:41:44 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:41:44 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:41:44 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:41:44 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:41:44 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:42:23 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:42:23 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:42:23 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:42:23 [INFO] simple_agent.commands.agent:98 - [COMMAND] /agent load - name=matcher_az
2025-11-11 18:42:23 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: matcher_az
2025-11-11 18:42:23 [DEBUG] root:229 - Rendering template
2025-11-11 18:42:23 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:42:23 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:42:23 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:42:26 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: matcher_az (azure_openai)
2025-11-11 18:42:26 [INFO] simple_agent.core.agent_manager:119 - Agent 'matcher_az' created and registered (provider=azure_openai)
2025-11-11 18:42:26 [INFO] simple_agent.core.agent_manager:382 - Loaded agent 'matcher_az' from YAML: config\agents\matcher_az.yaml (1 tools: ['tavily_web_search'])
2025-11-11 18:42:26 [INFO] simple_agent.commands.agent:122 - [COMMAND] Agent 'matcher_az' loaded successfully (1 tools)
2025-11-11 18:42:26 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:42:31 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:42:31 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:42:31 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:42:31 [INFO] simple_agent.commands.agent:214 - [COMMAND] /agent run - name=matcher_az, prompt_len=13764
2025-11-11 18:42:31 [INFO] simple_agent.agents.simple_agent:508 - Agent run
2025-11-11 18:42:49 [INFO] simple_agent.commands.agent:224 - [COMMAND] Agent 'matcher_az' ran successfully (response_len=9110)
2025-11-11 18:42:49 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:44:33 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:44:33 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:44:33 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:44:33 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:44:41 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:44:41 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:44:41 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:44:41 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:44:41 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:44:41 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:44:41 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:44:41 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:44:41 [DEBUG] root:229 - Rendering template
2025-11-11 18:44:41 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:44:41 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:44:41 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:44:48 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:44:48 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:44:48 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:44:48 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:44:48 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:44:48 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:45:13 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:45:13 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:45:13 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:45:13 [INFO] simple_agent.commands.agent:98 - [COMMAND] /agent load - name=matcher_az
2025-11-11 18:45:13 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: matcher_az
2025-11-11 18:45:13 [DEBUG] root:229 - Rendering template
2025-11-11 18:45:13 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:45:13 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:45:13 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:45:16 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: matcher_az (azure_openai)
2025-11-11 18:45:16 [INFO] simple_agent.core.agent_manager:119 - Agent 'matcher_az' created and registered (provider=azure_openai)
2025-11-11 18:45:16 [INFO] simple_agent.core.agent_manager:382 - Loaded agent 'matcher_az' from YAML: config\agents\matcher_az.yaml (1 tools: ['tavily_web_search'])
2025-11-11 18:45:16 [INFO] simple_agent.commands.agent:122 - [COMMAND] Agent 'matcher_az' loaded successfully (1 tools)
2025-11-11 18:45:16 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:45:20 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:45:20 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:45:20 [INFO] root:62 - Logging initialized: logs/app.log (level=DEBUG)
2025-11-11 18:45:20 [INFO] simple_agent.commands.agent:214 - [COMMAND] /agent run - name=matcher_az, prompt_len=13764
2025-11-11 18:45:20 [INFO] simple_agent.agents.simple_agent:508 - Agent run
2025-11-11 18:46:43 [ERROR] simple_agent.tools.builtin.tavily_search:81 - [TOOL] tavily_web_search() failed - SSLError: HTTPSConnectionPool(host='api.tavily.com', port=443): Max retries exceeded with url: /search (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1032)')))
2025-11-11 18:47:17 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='column matching deterministic rules data type cardinality semantic mapping guidance', results=5
2025-11-11 18:48:48 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='deterministic column matching best practices data type cardinality semantic mapping guidance', results=5
2025-11-11 18:49:44 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='schema matching rules deterministic data type cardinality', results=5
2025-11-11 18:49:51 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='map input columns to reference columns annuity dataset UniqueID to Unique Life ID Primary Date of Birth mapping Primary Amount Current Monthly Benefit UniqueID C10001-1 mapping rules', results=4
2025-11-11 18:50:24 [DEBUG] asyncio:633 - Using proactor: IocpProactor
2025-11-11 18:53:58 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:53:58 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:53:58 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:53:58 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:53:58 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:53:58 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:53:58 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:53:58 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:53:58 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:53:58 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:53:59 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:54:06 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:54:06 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:54:06 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:54:06 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:54:06 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:54:16 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:54:16 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:54:16 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:54:16 [INFO] simple_agent.commands.agent:98 - [COMMAND] /agent load - name=matcher_az
2025-11-11 18:54:16 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: matcher_az
2025-11-11 18:54:16 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:54:16 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:54:16 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:54:19 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: matcher_az (azure_openai)
2025-11-11 18:54:19 [INFO] simple_agent.core.agent_manager:119 - Agent 'matcher_az' created and registered (provider=azure_openai)
2025-11-11 18:54:19 [INFO] simple_agent.core.agent_manager:382 - Loaded agent 'matcher_az' from YAML: config\agents\matcher_az.yaml (1 tools: ['tavily_web_search'])
2025-11-11 18:54:19 [INFO] simple_agent.commands.agent:122 - [COMMAND] Agent 'matcher_az' loaded successfully (1 tools)
2025-11-11 18:54:28 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:54:28 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:54:28 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:54:28 [INFO] simple_agent.commands.agent:214 - [COMMAND] /agent run - name=matcher_az, prompt_len=13764
2025-11-11 18:54:28 [INFO] simple_agent.agents.simple_agent:508 - Agent run
2025-11-11 18:54:30 [ERROR] simple_agent.agents.simple_agent:651 - Agent 'matcher_az' execution failed with AgentGenerationError: Error while generating output:
litellm.NotFoundError: AzureException NotFoundError - The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.
Traceback (most recent call last):
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\llms\azure\azure.py", line 336, in completion
    headers, response = self.make_sync_azure_openai_chat_completion_request(
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        azure_client=azure_client, data=data, timeout=timeout
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\llms\azure\azure.py", line 148, in make_sync_azure_openai_chat_completion_request
    raise e
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\llms\azure\azure.py", line 140, in make_sync_azure_openai_chat_completion_request
    raw_response = azure_client.chat.completions.with_raw_response.create(
        **data, timeout=timeout
    )
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\openai\_legacy_response.py", line 364, in wrapped
    return cast(LegacyAPIResponse[R], func(*args, **kwargs))
                                      ~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\openai\_utils\_utils.py", line 286, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1156, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<46 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\openai\_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\openai\_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\main.py", line 1530, in completion
    response = azure_chat_completions.completion(
        model=model,
    ...<17 lines>...
        client=client,  # pass AsyncAzureOpenAI, AzureOpenAI client
    )
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\llms\azure\azure.py", line 366, in completion
    raise AzureOpenAIError(
    ...<4 lines>...
    )
litellm.llms.azure.common_utils.AzureOpenAIError: Error code: 404 - {'error': {'code': 'DeploymentNotFound', 'message': 'The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\agents.py", line 1283, in _step_stream
    chat_message: ChatMessage = self.model.generate(
                                ~~~~~~~~~~~~~~~~~~~^
        input_messages,
        ^^^^^^^^^^^^^^^
        stop_sequences=["Observation:", "Calling tools:"],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        tools_to_call_from=self.tools_and_managed_agents,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\models.py", line 1180, in generate
    response = self.client.completion(**completion_kwargs)
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\utils.py", line 1376, in wrapper
    raise e
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\utils.py", line 1245, in wrapper
    result = original_function(*args, **kwargs)
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\main.py", line 3767, in completion
    raise exception_type(
          ~~~~~~~~~~~~~~^
        model=model,
        ^^^^^^^^^^^^
    ...<3 lines>...
        extra_kwargs=kwargs,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2274, in exception_type
    raise e
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 1987, in exception_type
    raise NotFoundError(
    ...<5 lines>...
    )
litellm.exceptions.NotFoundError: litellm.NotFoundError: AzureException NotFoundError - The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\simple_agent\agents\simple_agent.py", line 598, in run
    response = self.agent.run(formatted_prompt, reset=reset)
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\agents.py", line 496, in run
    steps = list(self._run_stream(task=self.task, max_steps=max_steps, images=images))
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\agents.py", line 593, in _run_stream
    raise e
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\agents.py", line 575, in _run_stream
    for output in self._step_stream(action_step):
                  ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\simon2282\OneDrive - Willis Towers Watson\Documents\Dev\projects\simple-agent\.venv\Lib\site-packages\smolagents\agents.py", line 1304, in _step_stream
    raise AgentGenerationError(f"Error while generating output:\n{e}", self.logger) from e
smolagents.utils.AgentGenerationError: Error while generating output:
litellm.NotFoundError: AzureException NotFoundError - The API deployment for this resource does not exist. If you created the deployment within the last 5 minutes, please wait a moment and try again.
2025-11-11 18:54:30 [INFO] simple_agent.commands.agent:224 - [COMMAND] Agent 'matcher_az' ran successfully (response_len=0)
2025-11-11 18:54:51 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:54:51 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:54:51 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:54:57 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:54:57 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:54:57 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:54:57 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:54:57 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:54:57 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:54:57 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:54:57 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:54:57 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:54:57 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:54:57 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:55:04 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:55:04 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:55:04 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:55:04 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:55:04 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:55:14 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:55:14 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:55:14 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:55:14 [INFO] simple_agent.commands.agent:98 - [COMMAND] /agent load - name=matcher_az
2025-11-11 18:55:14 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: matcher_az
2025-11-11 18:55:14 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:55:14 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:55:14 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:55:17 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: matcher_az (azure_openai)
2025-11-11 18:55:17 [INFO] simple_agent.core.agent_manager:119 - Agent 'matcher_az' created and registered (provider=azure_openai)
2025-11-11 18:55:17 [INFO] simple_agent.core.agent_manager:382 - Loaded agent 'matcher_az' from YAML: config\agents\matcher_az.yaml (1 tools: ['tavily_web_search'])
2025-11-11 18:55:17 [INFO] simple_agent.commands.agent:122 - [COMMAND] Agent 'matcher_az' loaded successfully (1 tools)
2025-11-11 18:55:21 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:55:21 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:55:21 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:55:21 [INFO] simple_agent.commands.agent:214 - [COMMAND] /agent run - name=matcher_az, prompt_len=13764
2025-11-11 18:55:21 [INFO] simple_agent.agents.simple_agent:508 - Agent run
2025-11-11 18:55:32 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Form of Annuity', results=5
2025-11-11 18:55:32 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Start Date', results=5
2025-11-11 18:55:32 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Gender', results=5
2025-11-11 18:55:32 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Amount', results=5
2025-11-11 18:55:32 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='End Date', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Status', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Zipcode', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Mortality Improvement Flag', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Guaranteed Months', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Mortality Scalar Flag', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Date of Birth', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Unique Life ID', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Mortality Scalar Flag', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Amount', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Gender', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Date of Birth', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Mortality Improvement Flag', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Secondary Base Mortality Flag', results=5
2025-11-11 18:55:33 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='State', results=5
2025-11-11 18:55:34 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Primary Base Mortality Flag', results=5
2025-11-11 18:55:34 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Death Benefit', results=5
2025-11-11 18:55:34 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Pop-up Amount', results=5
2025-11-11 18:55:34 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Cash Refund Amount', results=5
2025-11-11 18:55:35 [INFO] simple_agent.tools.builtin.tavily_search:74 - [TOOL] tavily_web_search() completed - query='Cash Refund As of Date', results=5
2025-11-11 18:57:00 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 18:57:00 [INFO] simple_agent.app:157 - Setting configuration
2025-11-11 18:57:00 [INFO] simple_agent.app:164 - Loading tool manager
2025-11-11 18:57:00 [INFO] simple_agent.core.tool_manager:147 - Loaded 6 built-in tools
2025-11-11 18:57:00 [INFO] simple_agent.app:173 - Loading Agent manager
2025-11-11 18:57:00 [INFO] simple_agent.core.agent_manager:40 - AgentManager initialized
2025-11-11 18:57:00 [INFO] simple_agent.app:179 - Loading agents
2025-11-11 18:57:00 [INFO] simple_agent.agents.simple_agent:74 - Initialising agent: default
2025-11-11 18:57:00 [INFO] simple_agent.agents.simple_agent:265 - Creating LiteLLM Model
2025-11-11 18:57:00 [INFO] simple_agent.agents.simple_agent:321 - Azure OpenAI
2025-11-11 18:57:00 [INFO] simple_agent.agents.simple_agent:342 - Using Azure AD authentication for Azure OpenAI
2025-11-11 18:57:07 [INFO] simple_agent.agents.simple_agent:149 - Created ToolCallingAgent: default (azure_openai)
2025-11-11 18:57:07 [INFO] simple_agent.core.agent_manager:119 - Agent 'default' created and registered (provider=azure_openai)
2025-11-11 18:57:07 [INFO] simple_agent.core.agent_manager:222 - Auto-loaded agent 'default' from config
2025-11-11 18:57:07 [INFO] simple_agent.app:206 - Loading flow
2025-11-11 18:57:07 [INFO] simple_agent.app:251 - Loading REPL UI
2025-11-11 18:57:29 [INFO] simple_agent.core.config_manager:207 - Loaded 12 env variables from: .env
2025-11-11 18:57:29 [INFO] simple_agent.core.config_manager:163 - Config loaded from: config.yaml
2025-11-11 18:57:29 [INFO] root:62 - Logging initialized: logs/app.log (level=INFO)
2025-11-11 19:00:54 [WARNING] simple_agent.agents.simple_agent:637 - [RATE LIMIT] Rate limit exceeded. Limit details not available - enable debug logging to see full error. Wait 60 seconds and try again.
